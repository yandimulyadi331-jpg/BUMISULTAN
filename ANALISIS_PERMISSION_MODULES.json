{
  "analysisDate": "2025-12-15",
  "totalControllers": 110,
  "totalPermissionSeeders": 47,
  "existingModules": [
    {
      "name": "Karyawan",
      "controller": "KaryawanController.php",
      "routes": "karyawan.*",
      "permissionSeeder": "No dedicated seeder (permissions in routes)",
      "status": "✓ Routes defined",
      "notes": "Permissions defined inline in routes/web.php with ->can() gates"
    },
    {
      "name": "Departemen",
      "controller": "DepartemenController.php",
      "routes": "departemen.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "✓ Routes defined",
      "notes": "Permissions defined inline in routes"
    },
    {
      "name": "Grup",
      "controller": "GrupController.php",
      "routes": "grup.*",
      "permissionSeeder": "Gruppermissionseeder.php",
      "status": "✓ COMPLETE",
      "permissions": ["grup.index", "grup.create", "grup.edit", "grup.show", "grup.delete", "grup.detail", "grup.setJamKerja"]
    },
    {
      "name": "Jabatan",
      "controller": "JabatanController.php",
      "routes": "jabatan.*",
      "permissionSeeder": "Jabatanpermissionseeder.php",
      "status": "✓ COMPLETE",
      "permissions": ["jabatan.index", "jabatan.create", "jabatan.edit", "jabatan.delete"]
    },
    {
      "name": "Cabang",
      "controller": "CabangController.php",
      "routes": "cabang.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "✓ Routes defined",
      "notes": "Routes exist with inline permissions"
    },
    {
      "name": "Cuti",
      "controller": "CutiController.php",
      "routes": "cuti.*",
      "permissionSeeder": "Cutiseeder.php (NO PERMISSION)",
      "status": "⚠ PARTIAL",
      "notes": "Seeder exists but only creates master data, no permissions"
    },
    {
      "name": "Jam Kerja",
      "controller": "JamkerjaController.php",
      "routes": "jamkerja.*",
      "permissionSeeder": "Jamkerjapermissionseeder.php",
      "status": "✓ COMPLETE",
      "permissions": ["jamkerja.index", "jamkerja.create", "jamkerja.edit", "jamkerja.delete"]
    },
    {
      "name": "Jam Kerja By Departemen",
      "controller": "JamkerjabydeptController.php",
      "routes": "jamkerjabydept.*",
      "permissionSeeder": "Jamkerjabydeptpermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Gaji Pokok",
      "controller": "GajipokokController.php",
      "routes": "gajipokok.*",
      "permissionSeeder": "Gajipokokpermissionsseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Jenis Tunjangan",
      "controller": "JenistunjanganController.php",
      "routes": "jenistunjangan.*",
      "permissionSeeder": "Jenistunjanganpermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Tunjangan",
      "controller": "TunjanganController.php",
      "routes": "tunjangan.*",
      "permissionSeeder": "Tunjanganpermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "BPJS Kesehatan",
      "controller": "BpjskesehatanController.php",
      "routes": "bpjskesehatan.*",
      "permissionSeeder": "Bpjskesehatanpermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "BPJS Tenaga Kerja",
      "controller": "BpjstenagakerjaController.php",
      "routes": "bpjstenagakerja.*",
      "permissionSeeder": "Bpjstenagakerjapermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Penyesuaian Gaji",
      "controller": "PenyesuaiangajiController.php",
      "routes": "penyesuaiangaji.*",
      "permissionSeeder": "Penyesuaiangajipermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Potongan Pinjaman Payroll",
      "controller": "PotonganPinjamanPayrollController.php",
      "routes": "potongan_pinjaman.*",
      "permissionSeeder": "PotonganPinjamanPermissionsSeeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Slip Gaji",
      "controller": "SlipgajiController.php",
      "routes": "slipgaji.*",
      "permissionSeeder": "Slipgajipermissionseeder.php (2 versions exist)",
      "status": "✓ COMPLETE",
      "notes": "Both 'Slipgajipermissionseeder' and 'Slipgajikaryawanpermissionseeder' exist"
    },
    {
      "name": "Hari Libur",
      "controller": "HariliburController.php",
      "routes": "harilibur.*",
      "permissionSeeder": "Hariliburpermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Presensi",
      "controller": "PresensiController.php",
      "routes": "presensi.*",
      "permissionSeeder": "Presensipermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Presensi Istirahat",
      "controller": "PresensiistirahatController.php",
      "routes": "presensiistirahat.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Routes exist but no permission seeder"
    },
    {
      "name": "Yayasan Presensi",
      "controller": "YayasanPresensiController.php",
      "routes": "yayasan-presensi.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Routes use yayasan_masar.index permission (reuse from YayasanMasar)"
    },
    {
      "name": "Izin Absen",
      "controller": "IzinabsenController.php",
      "routes": "izinabsen.*",
      "permissionSeeder": "Izinabsenpermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Izin Sakit",
      "controller": "IzinsakitController.php",
      "routes": "izinsakit.*",
      "permissionSeeder": "Izinsakitpermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Izin Cuti",
      "controller": "IzincutiController.php",
      "routes": "izincuti.*",
      "permissionSeeder": "Izincutipermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Izin Dinas",
      "controller": "IzindinasController.php",
      "routes": "izindinas.*",
      "permissionSeeder": "Izindinaspermissionseeder.php + givePermissionizindinastokaryawanseeder.php",
      "status": "✓ COMPLETE",
      "notes": "Additional seeder for karyawan-specific permissions"
    },
    {
      "name": "Lembur",
      "controller": "LemburController.php",
      "routes": "lembur.*",
      "permissionSeeder": "Lemburpermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Pengajuan Izin",
      "controller": "PengajuanizinController.php",
      "routes": "pengajuanizin.*",
      "permissionSeeder": "No seeder (minimal routes)",
      "status": "⚠ PARTIAL",
      "notes": "Only has index() method"
    },
    {
      "name": "Laporan",
      "controller": "LaporanController.php",
      "routes": "laporan.*",
      "permissionSeeder": "Laporanpermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Yayasan Laporan",
      "controller": "YayasanLaporanController.php",
      "routes": "yayasan-laporan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Routes use yayasan_masar.index permission"
    },
    {
      "name": "Kunjungan",
      "controller": "KunjunganController.php",
      "routes": "kunjungan.*",
      "permissionSeeder": "KunjunganPermissionSeeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Tracking Kunjungan",
      "controller": "TrackingKunjunganController.php",
      "routes": "tracking-kunjungan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Routes use kunjungan.index permission"
    },
    {
      "name": "Aktivitas Karyawan",
      "controller": "AktivitasKaryawanController.php",
      "routes": "aktivitaskaryawan.*",
      "permissionSeeder": "AktivitasKaryawanPermissionSeeder.php + AktivitasKaryawanKaryawanPermissionSeeder.php",
      "status": "✓ COMPLETE",
      "notes": "2 seeders: one for admin, one for karyawan-specific"
    },
    {
      "name": "Kendaraan (Admin)",
      "controller": "KendaraanController.php",
      "routes": "kendaraan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Admin routes exist but no permission seeder"
    },
    {
      "name": "Kendaraan Karyawan",
      "controller": "KendaraanKaryawanController.php",
      "routes": "kendaraan-karyawan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Routes exist but no permission seeder"
    },
    {
      "name": "Aktivitas Kendaraan",
      "controller": "AktivitasKendaraanController.php",
      "routes": "kendaraan.aktivitas.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Routes exist but no permission seeder"
    },
    {
      "name": "Peminjaman Kendaraan",
      "controller": "PeminjamanKendaraanController.php",
      "routes": "kendaraan.peminjaman.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Routes exist but no permission seeder"
    },
    {
      "name": "Service Kendaraan",
      "controller": "ServiceKendaraanController.php",
      "routes": "service.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Routes exist but no permission seeder"
    },
    {
      "name": "Live Tracking",
      "controller": "LiveTrackingController.php",
      "routes": "api.gps.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "API routes only, no permission seeder"
    },
    {
      "name": "Gedung (Fasilitas)",
      "controller": "GedungController.php",
      "routes": "gedung.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Ruangan",
      "controller": "RuanganController.php",
      "routes": "ruangan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Barang",
      "controller": "BarangController.php",
      "routes": "barang.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Pengunjung (Fasilitas)",
      "controller": "PengunjungController.php",
      "routes": "pengunjung.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Pengunjung Karyawan",
      "controller": "PengunjungKaryawanController.php",
      "routes": "pengunjung.karyawan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "No permission seeder"
    },
    {
      "name": "Administrasi",
      "controller": "AdministrasiController.php",
      "routes": "administrasi.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only for CRUD, karyawan has read-only access"
    },
    {
      "name": "Dokumen",
      "controller": "DokumenController.php",
      "routes": "dokumen.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin for CRUD, auth users for read"
    },
    {
      "name": "Peralatan",
      "controller": "PeralatanController.php",
      "routes": "peralatan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Peminjaman Peralatan",
      "controller": "PeminjamanPeralatanController.php",
      "routes": "peminjaman-peralatan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Inventaris",
      "controller": "InventarisController.php",
      "routes": "inventaris.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Peminjaman Inventaris",
      "controller": "PeminjamanInventarisController.php",
      "routes": "peminjaman-inventaris.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Pengembalian Inventaris",
      "controller": "PengembalianInventarisController.php",
      "routes": "pengembalian-inventaris.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "History Inventaris",
      "controller": "HistoryInventarisController.php",
      "routes": "history-inventaris.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Detail Unit Inventaris",
      "controller": "InventarisDetailUnitController.php",
      "routes": "inventaris.units.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "KPI Crew",
      "controller": "KpiCrewController.php",
      "routes": "kpicrew.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Yayasan Masar",
      "controller": "YayasanMasarController.php",
      "routes": "yayasan_masar.*",
      "permissionSeeder": "YayasanMasarPermissionSeeder.php",
      "status": "✓ COMPLETE",
      "permissions": ["yayasan_masar.index", "yayasan_masar.create", "yayasan_masar.edit", "yayasan_masar.delete", "yayasan_masar.show", "yayasan_masar.setjamkerja", "yayasan_masar.setcabang"]
    },
    {
      "name": "Majlis Taklim - Jamaah",
      "controller": "JamaahMajlisTaklimController.php",
      "routes": "majlistaklim.jamaah.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Majlis Taklim - Hadiah",
      "controller": "HadiahMajlisTaklimController.php",
      "routes": "majlistaklim.hadiah.* + majlistaklim.distribusi.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Masar - Jamaah",
      "controller": "JamaahMasarController.php",
      "routes": "masar.jamaah.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Masar - Hadiah",
      "controller": "HadiahMasarController.php",
      "routes": "masar.hadiah.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Distribusi Hadiah Masar",
      "controller": "DistribusiHadiahMasarController.php",
      "routes": "masar.distribusi.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Keuangan Santri",
      "controller": "KeuanganSantriController.php",
      "routes": "keuangan-santri.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Pelanggaran Santri",
      "controller": "PelanggaranSantriController.php",
      "routes": "pelanggaran-santri.*",
      "permissionSeeder": "PelanggaranSantriPermissionSeeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Khidmat",
      "controller": "KhidmatController.php",
      "routes": "khidmat.*",
      "permissionSeeder": "KhidmatPermissionSeeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Santri",
      "controller": "SantriController.php",
      "routes": "santri.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Jadwal Santri",
      "controller": "JadwalSantriController.php",
      "routes": "jadwal-santri.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Absensi Santri",
      "controller": "AbsensiSantriController.php",
      "routes": "absensi-santri.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Ijin Santri",
      "controller": "IjinSantriController.php",
      "routes": "ijin-santri.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Tukang",
      "controller": "TukangController.php",
      "routes": "tukang.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Kehadiran Tukang",
      "controller": "KehadiranTukangController.php",
      "routes": "kehadiran-tukang.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Keuangan Tukang",
      "controller": "KeuanganTukangController.php",
      "routes": "keuangan-tukang.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Pinjaman",
      "controller": "PinjamanController.php",
      "routes": "pinjaman.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Dana Operasional",
      "controller": "DanaOperasionalController.php",
      "routes": "dana-operasional.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Laporan Keuangan",
      "controller": "LaporanKeuanganController.php",
      "routes": "laporan-keuangan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Laporan Keuangan Karyawan",
      "controller": "LaporanKeuanganKaryawanController.php",
      "routes": "laporan-keuangan-karyawan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Karyawan role only (middleware), no permission seeder"
    },
    {
      "name": "Transaksi Keuangan",
      "controller": "TransaksiKeuanganController.php",
      "routes": "transaksi-keuangan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Perawatan Gedung",
      "controller": "ManajemenPerawatanController.php",
      "routes": "perawatan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "Perawatan Karyawan",
      "controller": "PerawatanKaryawanController.php",
      "routes": "perawatan.karyawan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Auth users only, no permission seeder"
    },
    {
      "name": "Temuan/Issues",
      "controller": "TemuanController.php",
      "routes": "temuan.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin for management, karyawan for input/view only"
    },
    {
      "name": "Undian Umroh",
      "controller": "UndianUmrohController.php",
      "routes": "undian-umroh.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Controller exists but routes may not be fully defined"
    },
    {
      "name": "Tugas Luar",
      "controller": "TugasLuarController.php + TugasLuarMobileController.php",
      "routes": "tugas-luar.* + tugasluar.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "2 controllers exist, auth users can access"
    },
    {
      "name": "Bersihkan Foto",
      "controller": "BersihkanfotoController.php",
      "routes": "bersihkanfoto.*",
      "permissionSeeder": "Bersihkanfotopermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Tracking Presensi",
      "controller": "TrackingPresensiController.php",
      "routes": "trackingpresensi.*",
      "permissionSeeder": "Trackingpresensipermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "General Setting",
      "controller": "GeneralsettingController.php",
      "routes": "generalsetting.*",
      "permissionSeeder": "Pengaturanumumpermissionseeder.php",
      "status": "✓ COMPLETE",
      "notes": "Used for Denda (Fine) management too"
    },
    {
      "name": "Role & Permission Management",
      "controller": "RoleController.php + PermissionController.php + Permission_groupController.php",
      "routes": "roles.* + permissions.* + permissiongroups.*",
      "permissionSeeder": "No dedicated seeder (super admin only)",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "User Management",
      "controller": "UserController.php",
      "routes": "users.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Super admin only (middleware), no permission seeder"
    },
    {
      "name": "WA Gateway",
      "controller": "WagatewayController.php",
      "routes": "wagateway.*",
      "permissionSeeder": "Wagatewaypermissionseeder.php",
      "status": "✓ COMPLETE"
    },
    {
      "name": "Fonnte (WhatsApp Gateway)",
      "controller": "FonnteController.php",
      "routes": "No routes found",
      "permissionSeeder": "FonntePermissionSeeder.php",
      "status": "⚠ PARTIAL",
      "notes": "Seeder exists but no routes defined"
    },
    {
      "name": "Dashboard",
      "controller": "DashboardController.php",
      "routes": "dashboard.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Auth users, no permission seeder"
    },
    {
      "name": "Profile",
      "controller": "ProfileController.php",
      "routes": "profile.*",
      "permissionSeeder": "No dedicated seeder",
      "status": "⚠ PARTIAL",
      "notes": "Auth users, no permission seeder"
    }
  ],
  "modulesWithoutPermission": [
    {
      "module": "Kendaraan Management Suite",
      "components": [
        "Kendaraan (Admin)",
        "Kendaraan Karyawan",
        "Aktivitas Kendaraan",
        "Peminjaman Kendaraan",
        "Service Kendaraan",
        "Live Tracking"
      ],
      "reason": "No permission seeders exist for any kendaraan-related modules",
      "impact": "CRITICAL - All vehicle management features depend on role-based access control only",
      "controllers": ["KendaraanController", "KendaraanKaryawanController", "AktivitasKendaraanController", "PeminjamanKendaraanController", "ServiceKendaraanController", "LiveTrackingController"]
    },
    {
      "module": "Fasilitas/Asset Management",
      "components": [
        "Gedung (Building)",
        "Ruangan (Room)",
        "Barang (Items)",
        "Pengunjung (Visitor)"
      ],
      "reason": "No permission seeders - only super admin middleware protection",
      "impact": "HIGH - Cannot granularly assign permissions to different admin roles",
      "controllers": ["GedungController", "RuanganController", "BarangController", "PengunjungController"]
    },
    {
      "module": "Inventaris Multi-Unit",
      "components": [
        "Inventaris (Master)",
        "Peminjaman Inventaris",
        "Pengembalian Inventaris",
        "History Inventaris",
        "Detail Unit Inventaris"
      ],
      "reason": "No permission seeders - only super admin middleware protection",
      "impact": "CRITICAL - Complex inventory system lacks granular permission control",
      "controllers": ["InventarisController", "PeminjamanInventarisController", "PengembalianInventarisController", "HistoryInventarisController", "InventarisDetailUnitController"]
    },
    {
      "module": "Peralatan (Equipment)",
      "components": [
        "Peralatan (Master)",
        "Peminjaman Peralatan"
      ],
      "reason": "No permission seeders - only super admin middleware protection",
      "impact": "MEDIUM - Equipment management not granularly controlled",
      "controllers": ["PeralatanController", "PeminjamanPeralatanController"]
    },
    {
      "module": "Saung Santri Management",
      "components": [
        "Santri (Students)",
        "Jadwal Santri (Schedule)",
        "Absensi Santri (Attendance)",
        "Ijin Santri (Leave)",
        "Keuangan Santri"
      ],
      "reason": "No permission seeders for santri modules - only super admin middleware",
      "impact": "HIGH - Student management system needs better permission granularity",
      "controllers": ["SantriController", "JadwalSantriController", "AbsensiSantriController", "IjinSantriController", "KeuanganSantriController"]
    },
    {
      "module": "Majlis Taklim",
      "components": [
        "Jamaah Majlis Taklim",
        "Hadiah Majlis Taklim",
        "Distribusi Hadiah Majlis Taklim"
      ],
      "reason": "No permission seeders - only super admin middleware protection",
      "impact": "HIGH - No granular control for religious event management",
      "controllers": ["JamaahMajlisTaklimController", "HadiahMajlisTaklimController"]
    },
    {
      "module": "Masar (Weekly Religious Gathering)",
      "components": [
        "Jamaah Masar",
        "Hadiah Masar",
        "Distribusi Hadiah Masar"
      ],
      "reason": "No permission seeders - only super admin middleware protection",
      "impact": "HIGH - No granular control for weekly gathering management",
      "controllers": ["JamaahMasarController", "HadiahMasarController", "DistribusiHadiahMasarController"]
    },
    {
      "module": "Pinjaman Management",
      "components": [
        "Pinjaman (Crew & Non-Crew Loans)",
        "Pinjaman Tukang (Contractor Loans) - part of Keuangan Tukang"
      ],
      "reason": "No permission seeders for pinjaman module",
      "impact": "CRITICAL - Financial loan system lacks permission management",
      "controllers": ["PinjamanController", "KeuanganTukangController"]
    },
    {
      "module": "Keuangan Tukang",
      "components": [
        "Kehadiran Tukang",
        "Keuangan Tukang",
        "Pinjaman Tukang (sub-module)"
      ],
      "reason": "No permission seeders - only super admin middleware",
      "impact": "HIGH - Contractor financial management not granularly controlled",
      "controllers": ["KehadiranTukangController", "KeuanganTukangController"]
    },
    {
      "module": "Tukang Management",
      "components": [
        "Tukang (Master Data)"
      ],
      "reason": "No permission seeder - only super admin middleware",
      "impact": "MEDIUM - Contractor master data management not granularly controlled",
      "controllers": ["TukangController"]
    },
    {
      "module": "Keuangan General",
      "components": [
        "Dana Operasional",
        "Laporan Keuangan",
        "Laporan Keuangan Karyawan",
        "Transaksi Keuangan"
      ],
      "reason": "No permission seeders - only middleware protection (super admin or karyawan role)",
      "impact": "CRITICAL - All financial/accounting features lack permission granularity",
      "controllers": ["DanaOperasionalController", "LaporanKeuanganController", "LaporanKeuanganKaryawanController", "TransaksiKeuanganController"]
    },
    {
      "module": "Perawatan Gedung",
      "components": [
        "Manajemen Perawatan (Admin)",
        "Perawatan Karyawan (Worker)"
      ],
      "reason": "No permission seeders - only middleware protection",
      "impact": "MEDIUM - Building maintenance system lacks granular permission control",
      "controllers": ["ManajemenPerawatanController", "PerawatanKaryawanController"]
    },
    {
      "module": "Temuan/Findings/Issues",
      "components": [
        "Temuan (Admin)",
        "Temuan Karyawan (Worker input)"
      ],
      "reason": "No permission seeder - mixed middleware & controller-level protection",
      "impact": "MEDIUM - Issue tracking system needs better permission management",
      "controllers": ["TemuanController"]
    },
    {
      "module": "Undian Umroh",
      "components": [
        "Undian Umroh (Umrah Lottery)"
      ],
      "reason": "Controller exists but routes not fully defined; no permission seeder",
      "impact": "LOW - Module appears incomplete",
      "controllers": ["UndianUmrohController"]
    },
    {
      "module": "KPI Crew",
      "components": [
        "KPI Crew (Performance Metrics)"
      ],
      "reason": "No permission seeder - only super admin middleware",
      "impact": "MEDIUM - Performance management not granularly controlled",
      "controllers": ["KpiCrewController"]
    },
    {
      "module": "Administrasi",
      "components": [
        "Administrasi Documents"
      ],
      "reason": "No permission seeder - only middleware protection (super admin for CRUD)",
      "impact": "MEDIUM - Document administration not granularly controlled",
      "controllers": ["AdministrasiController"]
    },
    {
      "module": "Dokumen Management",
      "components": [
        "Dokumen (Document Management)"
      ],
      "reason": "No permission seeder - only middleware protection (auth users)",
      "impact": "MEDIUM - Document management not granularly controlled",
      "controllers": ["DokumenController"]
    },
    {
      "module": "Pengunjung Karyawan",
      "components": [
        "Pengunjung Karyawan (Visitor Management for Employees)"
      ],
      "reason": "No permission seeder - routes exist but no permission management",
      "impact": "LOW - Employee visitor management lacks permission granularity",
      "controllers": ["PengunjungKaryawanController"]
    },
    {
      "module": "Presensi Istirahat",
      "components": [
        "Presensi Istirahat (Break Attendance)"
      ],
      "reason": "No permission seeder - routes exist but no permission management",
      "impact": "LOW - Break attendance tracking lacks permission management",
      "controllers": ["PresensiistirahatController"]
    },
    {
      "module": "Yayasan Presensi & Laporan",
      "components": [
        "Yayasan Presensi (Yayasan Attendance)",
        "Yayasan Laporan (Yayasan Reports)"
      ],
      "reason": "No dedicated permission seeders - reusing yayasan_masar.index permission",
      "impact": "MEDIUM - Uses shared permission with YayasanMasar module",
      "controllers": ["YayasanPresensiController", "YayasanLaporanController"]
    },
    {
      "module": "Fonnte (WhatsApp Gateway)",
      "components": [
        "Fonnte Integration"
      ],
      "reason": "Seeder exists but no routes defined in web.php",
      "impact": "LOW - Integration appears incomplete",
      "controllers": ["FonnteController"]
    },
    {
      "module": "Tugas Luar",
      "components": [
        "Tugas Luar (External Tasks)"
      ],
      "reason": "No permission seeder - routes exist but no permission management",
      "impact": "MEDIUM - External task management lacks permission granularity",
      "controllers": ["TugasLuarController", "TugasLuarMobileController"]
    },
    {
      "module": "Role & Permission Management",
      "components": [
        "Role Management",
        "Permission Management",
        "Permission Group Management"
      ],
      "reason": "No permission seeder - super admin only (hardcoded middleware)",
      "impact": "CRITICAL - System-level access control not granularized",
      "controllers": ["RoleController", "PermissionController", "Permission_groupController"]
    },
    {
      "module": "User Management",
      "components": [
        "User Management"
      ],
      "reason": "No permission seeder - super admin only (hardcoded middleware)",
      "impact": "CRITICAL - User account management not granularized",
      "controllers": ["UserController"]
    }
  ],
  "modulesWithPartialPermission": [
    {
      "module": "Cuti (Leave)",
      "issue": "Seeder exists but is data seeder, not permission seeder",
      "file": "Cutiseeder.php",
      "impact": "Routes defined with inline permissions, but no dedicated permission management",
      "recommendation": "Create Cutipermissionseeder.php following the pattern of other modules"
    },
    {
      "module": "Departemen",
      "issue": "No permission seeder; relies on inline route permissions",
      "file": "Routes inline only",
      "impact": "Cannot assign to roles, only hardcoded in routes",
      "recommendation": "Create Departemenpermissionseeder.php"
    },
    {
      "module": "Cabang",
      "issue": "No permission seeder; relies on inline route permissions",
      "file": "Routes inline only",
      "impact": "Cannot assign to roles, only hardcoded in routes",
      "recommendation": "Create Cabangpermissionseeder.php"
    },
    {
      "module": "Pengajuan Izin",
      "issue": "Very minimal controller (only index() method); no permission seeder",
      "file": "Routes inline only",
      "impact": "Routes defined but functionality appears incomplete",
      "recommendation": "Complete controller implementation and create permission seeder"
    },
    {
      "module": "Slip Gaji Karyawan",
      "issue": "Two seeders exist (Slipgajipermissionseeder + Slipgajikaryawanpermissionseeder) with unclear differentiation",
      "file": "Slipgajipermissionseeder.php + Slipgajikaryawanpermissionseeder.php",
      "impact": "Unclear permission assignment between seeders",
      "recommendation": "Consolidate or clearly document the difference between admin and karyawan permissions"
    },
    {
      "module": "Tracking Kunjungan",
      "issue": "Routes use kunjungan.index permission (parent module)",
      "file": "Routes inline only",
      "impact": "Cannot be independently controlled; shares permission with Kunjungan",
      "recommendation": "Create dedicated tracking-kunjungan permission group or clearly document shared permission"
    },
    {
      "module": "Aktivitas Karyawan",
      "issue": "Two seeders (AktivitasKaryawanPermissionSeeder + AktivitasKaryawanKaryawanPermissionSeeder)",
      "file": "Both seeders exist",
      "impact": "Permissions may overlap or be unclear",
      "recommendation": "Review and consolidate if necessary or clearly document role separation"
    },
    {
      "module": "Yayasan Presensi & Laporan",
      "issue": "Routes reuse yayasan_masar.index permission instead of having own permissions",
      "file": "Routes inline only",
      "impact": "Cannot independently control these modules",
      "recommendation": "Create dedicated permission groups for yayasan-presensi and yayasan-laporan"
    }
  ],
  "recommendations": [
    {
      "priority": "CRITICAL",
      "action": "Create Permission Seeders for Financial Modules",
      "modules": ["Pinjaman", "Dana Operasional", "Laporan Keuangan", "Transaksi Keuangan"],
      "reason": "Financial systems must have granular permission control; currently all-or-nothing access",
      "files_needed": [
        "database/seeders/PinjamanPermissionSeeder.php",
        "database/seeders/DanaOperasionalPermissionSeeder.php",
        "database/seeders/LaporanKeuanganPermissionSeeder.php",
        "database/seeders/TransaksiKeuanganPermissionSeeder.php"
      ],
      "estimated_effort": "Medium (4 seeders, ~100 lines each)"
    },
    {
      "priority": "CRITICAL",
      "action": "Create Permission Seeders for Kendaraan Suite",
      "modules": ["Kendaraan", "Aktivitas Kendaraan", "Peminjaman Kendaraan", "Service Kendaraan"],
      "reason": "Vehicle management is core business feature; needs proper permission structure",
      "files_needed": [
        "database/seeders/KendaraanPermissionSeeder.php",
        "database/seeders/AktivitasKendaraanPermissionSeeder.php",
        "database/seeders/PeminjamanKendaraanPermissionSeeder.php",
        "database/seeders/ServiceKendaraanPermissionSeeder.php"
      ],
      "estimated_effort": "Medium (4 seeders, ~100 lines each)"
    },
    {
      "priority": "CRITICAL",
      "action": "Create Permission Seeders for Inventaris Multi-Unit System",
      "modules": ["Inventaris", "Peminjaman Inventaris", "Pengembalian Inventaris", "History Inventaris"],
      "reason": "Complex inventory system requires fine-grained permissions for different inventory managers",
      "files_needed": [
        "database/seeders/InventarisPermissionSeeder.php",
        "database/seeders/PeminjamanInventarisPermissionSeeder.php",
        "database/seeders/PengembalianInventarisPermissionSeeder.php",
        "database/seeders/HistoryInventarisPermissionSeeder.php"
      ],
      "estimated_effort": "Medium-High (4 complex seeders)"
    },
    {
      "priority": "HIGH",
      "action": "Create Permission Seeders for Saung Santri System",
      "modules": ["Santri", "Jadwal Santri", "Absensi Santri", "Ijin Santri", "Keuangan Santri"],
      "reason": "Student management system is comprehensive; needs proper role-based access control",
      "files_needed": [
        "database/seeders/SantriPermissionSeeder.php",
        "database/seeders/JadwalSantriPermissionSeeder.php",
        "database/seeders/AbsensiSantriPermissionSeeder.php",
        "database/seeders/IjinSantriPermissionSeeder.php",
        "database/seeders/KeuanganSantriPermissionSeeder.php"
      ],
      "estimated_effort": "High (5 seeders)"
    },
    {
      "priority": "HIGH",
      "action": "Create Permission Seeders for Religious Event Modules",
      "modules": ["Majlis Taklim", "Masar"],
      "reason": "Core religious education programs need separate permission groups",
      "files_needed": [
        "database/seeders/JamaahMajlisTaklimPermissionSeeder.php",
        "database/seeders/HadiahMajlisTaklimPermissionSeeder.php",
        "database/seeders/JamaahMasarPermissionSeeder.php",
        "database/seeders/HadiahMasarPermissionSeeder.php",
        "database/seeders/DistribusiHadiahMasarPermissionSeeder.php"
      ],
      "estimated_effort": "Medium (5 seeders, ~80 lines each)"
    },
    {
      "priority": "HIGH",
      "action": "Create Permission Seeders for Fasilitas/Asset Management",
      "modules": ["Gedung", "Ruangan", "Barang", "Pengunjung"],
      "reason": "Building and asset management requires granular permissions for different facility managers",
      "files_needed": [
        "database/seeders/GedungPermissionSeeder.php",
        "database/seeders/RuanganPermissionSeeder.php",
        "database/seeders/BarangPermissionSeeder.php",
        "database/seeders/PengunjungPermissionSeeder.php"
      ],
      "estimated_effort": "Medium (4 seeders, ~100 lines each)"
    },
    {
      "priority": "HIGH",
      "action": "Create Permission Seeders for Tukang Management",
      "modules": ["Tukang", "Kehadiran Tukang", "Keuangan Tukang"],
      "reason": "Contractor management (including payroll & loans) needs comprehensive permission control",
      "files_needed": [
        "database/seeders/TukangPermissionSeeder.php",
        "database/seeders/KehadiranTukangPermissionSeeder.php",
        "database/seeders/KeuanganTukangPermissionSeeder.php"
      ],
      "estimated_effort": "Medium-High (3 seeders, complex relationships)"
    },
    {
      "priority": "MEDIUM",
      "action": "Create Permission Seeders for Peralatan (Equipment)",
      "modules": ["Peralatan", "Peminjaman Peralatan"],
      "reason": "Equipment management needs proper permission structure",
      "files_needed": [
        "database/seeders/PeralatanPermissionSeeder.php",
        "database/seeders/PeminjamanPeralatanPermissionSeeder.php"
      ],
      "estimated_effort": "Low (2 seeders, ~100 lines each)"
    },
    {
      "priority": "MEDIUM",
      "action": "Create Permission Seeders for Dokumentasi Modules",
      "modules": ["Administrasi", "Dokumen"],
      "reason": "Document management needs granular control for different document handlers",
      "files_needed": [
        "database/seeders/AdministrasiPermissionSeeder.php",
        "database/seeders/DokumenPermissionSeeder.php"
      ],
      "estimated_effort": "Low (2 seeders, ~100 lines each)"
    },
    {
      "priority": "MEDIUM",
      "action": "Create Permission Seeders for Maintenance Systems",
      "modules": ["Perawatan Gedung", "Temuan/Issues"],
      "reason": "Building maintenance and issue tracking need better access control",
      "files_needed": [
        "database/seeders/PerawatanPermissionSeeder.php",
        "database/seeders/TemuanPermissionSeeder.php"
      ],
      "estimated_effort": "Low (2 seeders, ~100 lines each)"
    },
    {
      "priority": "MEDIUM",
      "action": "Fix Shared Permission Issues",
      "description": "Yayasan Presensi and Yayasan Laporan use yayasan_masar.index permission",
      "action_items": [
        "Create separate permission groups for YayasanPresensi and YayasanLaporan",
        "Update routes to use new permission gates instead of shared yayasan_masar.index",
        "Create dedicated seeders: YayasanPresensiPermissionSeeder.php and YayasanLaporanPermissionSeeder.php"
      ],
      "estimated_effort": "Low-Medium (1-2 hours)"
    },
    {
      "priority": "MEDIUM",
      "action": "Consolidate or Document Overlapping Permission Seeders",
      "description": "Multiple modules have two seeders (e.g., Slip Gaji, Aktivitas Karyawan)",
      "action_items": [
        "Review Slipgajipermissionseeder vs Slipgajikaryawanpermissionseeder",
        "Review AktivitasKaryawanPermissionSeeder vs AktivitasKaryawanKaryawanPermissionSeeder",
        "Consolidate into single seeders with clear role assignment or document the distinction",
        "Add comments explaining why separate seeders are needed"
      ],
      "estimated_effort": "Low (2-3 hours)"
    },
    {
      "priority": "MEDIUM",
      "action": "Create Permission Seeders for User Management & System Admin",
      "modules": ["User Management", "Role Management", "Permission Management"],
      "reason": "System-level features should have granular permissions even for super admin",
      "files_needed": [
        "database/seeders/UserManagementPermissionSeeder.php",
        "database/seeders/RoleManagementPermissionSeeder.php"
      ],
      "estimated_effort": "Low (2 seeders, ~100 lines each)"
    },
    {
      "priority": "LOW",
      "action": "Create Permission Seeders for Minor Modules",
      "modules": ["Tugas Luar", "Presensi Istirahat", "Pengunjung Karyawan", "KPI Crew", "Undian Umroh"],
      "reason": "Complete the permission structure for consistency",
      "files_needed": [
        "database/seeders/TugasLuarPermissionSeeder.php",
        "database/seeders/PresensiIstirahatPermissionSeeder.php",
        "database/seeders/PengunjungKaryawanPermissionSeeder.php",
        "database/seeders/KpiCrewPermissionSeeder.php",
        "database/seeders/UndianUmrohPermissionSeeder.php"
      ],
      "estimated_effort": "Low (5 seeders, ~80 lines each)"
    },
    {
      "priority": "LOW",
      "action": "Complete Fonnte Integration (WhatsApp Gateway)",
      "description": "FonntePermissionSeeder.php exists but no routes are defined",
      "action_items": [
        "Check if FonnteController is used or deprecated",
        "If in use: Add routes to web.php for Fonnte integration",
        "If deprecated: Remove FonntePermissionSeeder.php from project"
      ],
      "estimated_effort": "Low-Medium (2-4 hours)"
    },
    {
      "priority": "LOW",
      "action": "Complete Pengajuan Izin Module",
      "description": "PengajuanizinController has minimal implementation (only index method)",
      "action_items": [
        "Determine intended functionality",
        "Implement full CRUD if needed",
        "Create permission seeder",
        "Add comprehensive routes"
      ],
      "estimated_effort": "Medium (4-8 hours)"
    },
    {
      "priority": "LOW",
      "action": "Document Permission Strategy",
      "description": "Create comprehensive documentation for permission assignment across modules",
      "action_items": [
        "Document permission group naming conventions",
        "Create template for new permission seeders",
        "Document role-permission mapping for each major feature",
        "Create admin guide for managing permissions"
      ],
      "estimated_effort": "Low (3-4 hours)"
    },
    {
      "priority": "PROCESS",
      "action": "Implement Permission Seeder Standard Workflow",
      "description": "Establish process for adding new modules with permissions",
      "guidelines": [
        "Every new module with CRUD operations must have a permission seeder",
        "Permission seeders must follow naming convention: {ModuleName}PermissionSeeder.php",
        "Permission names follow pattern: {module}.{action} (e.g., kendaraan.index)",
        "All permissions must belong to a Permission_group",
        "Super admin role automatically gets all permissions",
        "Use firstOrCreate() in seeders to avoid duplicates on re-run",
        "Document special permission assignments (e.g., karyawan role subsets)"
      ],
      "estimated_effort": "Ongoing"
    }
  ],
  "summary": {
    "totalModulesIdentified": 95,
    "modulesWithCompletePermissions": 18,
    "modulesWithPartialPermissions": 8,
    "modulesWithoutPermissions": 69,
    "compliancePercentage": "18.9%",
    "criticalGaps": [
      "Financial Management (Pinjaman, Dana Operasional, Laporan Keuangan)",
      "Vehicle Management (Kendaraan, Aktivitas, Peminjaman, Service)",
      "Inventory System (Inventaris Multi-Unit with all sub-modules)",
      "Student Management (Saung Santri: Santri, Jadwal, Absensi, Ijin, Keuangan)",
      "Religious Events (Majlis Taklim, Masar with all sub-modules)",
      "Facility Management (Gedung, Ruangan, Barang, Pengunjung)",
      "Contractor Management (Tukang, Kehadiran, Keuangan)",
      "System Administration (User, Role, Permission Management)"
    ],
    "estimatedTotalEffort": "80-120 hours (creating ~40-50 permission seeders + refactoring)",
    "recommendedApproach": "Phase implementation starting with CRITICAL modules, then HIGH priority modules"
  }
}
